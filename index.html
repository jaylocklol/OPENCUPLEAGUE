<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPENCUP LEAGUE 1</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 1000px;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        table, th, td {
            border: 1px solid #ddd;
        }

        th, td {
            padding: 10px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }

        .profile {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile img {
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-right: 10px;
        }

        .country img {
            width: 20px;
            height: 20px;
            margin-left: 5px;
        }

        .show-all-button, .separate-tables-button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }

        .separate-tables-button {
            background-color: #008CBA;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>OPENCUP LEAGUE 1</h1>

        <!-- Buttons to Show All Scores and Separate Tables -->
        <button class="show-all-button" onclick="toggleScores()">Show All Scores</button>
        <button class="separate-tables-button" onclick="showSeparateTables()">Show Separate Tables by BaseCup</button>

        <!-- Leaderboard Table -->
        <table id="leaderboard-table" style="display:none;">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Profile</th>
                    <th>BaseCup</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody id="leaderboard-body">
                <!-- Table rows will be generated by JavaScript -->
            </tbody>
        </table>

        <!-- Separate Tables by BaseCup -->
        <div id="basecup-tables" style="display:none;">
            <h2>BaseCup 4</h2>
            <table id="basecup-4-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Profile</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody id="basecup-4-body"></tbody>
            </table>

            <h2>BaseCup 3</h2>
            <table id="basecup-3-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Profile</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody id="basecup-3-body"></tbody>
            </table>

            <h2>BaseCup 2</h2>
            <table id="basecup-2-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Profile</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody id="basecup-2-body"></tbody>
            </table>
        </div>
    </div>

    <script>
        // Sample CSV Data
        const csvData = [
        ];

        // Function to get profile and flag based on initials
        function getProfileAndFlag(initial) {
            if (initial === 'AL') {
                return {
                    name: 'Austin L',
                    flag: 'https://hatscripts.github.io/circle-flags/flags/pl.svg'  // Fixed Poland flag URL
                };
            } else if (initial === 'JL') {
                return {
                    name: 'Jenson L',
                    flag: 'https://hatscripts.github.io/circle-flags/flags/vu.svg'  // Fixed Vanuatu flag URL
                };
            }
        }

        // Function to update the leaderboard with scores (for showing all scores or top 10)
        function updateLeaderboard(showAll = false) {
            const leaderboardBody = document.getElementById('leaderboard-body');
            leaderboardBody.innerHTML = ''; // Clear existing rows

            // Sort CSV data by time
            const sortedData = csvData.sort((a, b) => a.Time - b.Time);

            // Limit to top 10 unless 'showAll' is true
            const displayData = showAll ? sortedData : sortedData.slice(0, 10);

            displayData.forEach((row, index) => {
                const { name, flag } = getProfileAndFlag(row.Initial);

                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${index + 1}</td>
                    <td class="profile">
                        <img src="https://static.vecteezy.com/system/resources/thumbnails/009/292/244/small/default-avatar-icon-of-social-media-user-vector.jpg" alt="${name}">
                        ${name} <img src="${flag}" alt="${name}" class="country">
                    </td>
                    <td>${row.BaseCup}</td>
                    <td>${row.Time.toFixed(2)}</td>
                `;

                leaderboardBody.appendChild(tr);
            });

            // Show leaderboard and hide separate tables
            document.getElementById('leaderboard-table').style.display = 'table';
            document.getElementById('basecup-tables').style.display = 'none';
        }

        // Function to show separate tables for each BaseCup
        function showSeparateTables() {
            // Clear and populate BaseCup tables
            ['2', '3', '4'].forEach(basecup => {
                const tbody = document.getElementById(`basecup-${basecup}-body`);
                tbody.innerHTML = '';  // Clear existing rows

                // Filter and sort data by BaseCup
                const basecupData = csvData.filter(row => row.BaseCup == basecup).sort((a, b) => a.Time - b.Time);

                basecupData.forEach((row, index) => {
                    const { name, flag } = getProfileAndFlag(row.Initial);

                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${index + 1}</td>
                        <td class="profile">
                            <img src="https://static.vecteezy.com/system/resources/thumbnails/009/292/244/small/default-avatar-icon-of-social-media-user-vector.jpg" alt="${name}">
                            ${name} <img src="${flag}" alt="${name}" class="country">
                        </td>
                        <td>${row.Time.toFixed(2)}</td>
                    `;

                    tbody.appendChild(tr);
                });
            });

            // Hide leaderboard and show separate tables
            document.getElementById('leaderboard-table').style.display = 'none';
            document.getElementById('basecup-tables').style.display = 'block';
        }

        // Toggle between showing top 10 and all scores
        let showingAll = false;
        function toggleScores() {
            showingAll = !showingAll;
            updateLeaderboard(showingAll);

            const button = document.querySelector('.show-all-button');
            button.textContent = showingAll ? 'Show Top 10' : 'Show All Scores';
        }

        // Initialize the leaderboard with top 10 scores
        updateLeaderboard();
    </script>

</body>
</html>
